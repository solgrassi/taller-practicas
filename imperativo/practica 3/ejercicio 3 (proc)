{a. Un módulo que lea información de los finales rendidos por los alumnos de la Facultad de
Informática y los almacene en una estructura de datos. La información que se lee es legajo,
código de materia, fecha y nota. La lectura de los alumnos finaliza con legajo 0. La estructura
generada debe ser eficiente para la búsqueda por número de legajo y para cada alumno deben
guardarse los finales que rindió en una lista.
b. Un módulo que reciba la estructura generada en a. y retorne la cantidad de alumnos con
legajo impar.
c. Un módulo que reciba la estructura generada en a. e informe, para cada alumno, su legajo y
su cantidad de finales aprobados (nota mayor o igual a 4).
c. Un módulo que reciba la estructura generada en a. y un valor real. Este módulo debe
retornar los legajos y promedios de los alumnos cuyo promedio supera el valor ingresado.}

program ejercicio3;
type 
final = record
    codigomat: integer;
    fecha:string;
    nota: real;
end;

lista=^nodo;
nodo=record
    dato:final;
    sig:lista;
end;

alumno = record
    legajo: integer;
    finales: lista;
end;

arbol = ^nodoarbol;

nodoarbol = record
    dato: alumno;
    HI: arbol;
    HD: arbol;
end;

procedure agregarAd (var l:lista; f:final);
var
nue:lista;
begin
    new(nue);
    nue^.dato:=f;
    nue^.sig:=l;
    l:=nue;
end;
procedure leeralu (var alu:alumno);
begin
    writeln('ingrese el legajo del alumno');
    readln(alu.legajo);
    while (alu.legajo <>0) do begin
        writeln('ingrese el codigo de la materia');
        readln(alu.finales^.dato.codigomat);
        writeln('ingrese la fecha del final');
        readln(alu.finales^.dato.fecha);
        writeln('ingrese la nota');
        readln(alu.finales^.dato.nota);
        writeln('ingrese el legajo del alumno');
        readln(alu.legajo);
    end;
end;    

procedure agregarele (var a:arbol; alu: alumno);
var
    aux:arbol;
	begin
		if (a = nil) then begin
			new(aux);
			aux^.dato.legajo:= alu.legajo;
			aux^.dato.finales := nil;
			agregarAd(aux^.dato.finales, alu.finales^.dato);
			aux^.HI := nil;
			aux^.HD := nil;
			a:=aux;
		end
		else 
		    if (alu.legajo = a^.dato.legajo) then
		        agregarAd(a^.dato.finales, alu.finales^.dato)
		  else
		    if (alu.legajo< a^.dato.legajo) then
		        agregarele(a^.HI, alu)
		  else
		        agregarele(a^.HD, alu); 
 end;
 
procedure cargarA (var a:arbol);
var
alu:alumno;
begin
    leeralu(alu);
    while (alu.legajo<> 0) do begin
        agregarele(a,alu);
        leeralu(alu);
    end;
end;


function impar (a:arbol): integer;
begin
    if (a= nil) then
        impar:=0
    else begin
        impar:= impar(a^.HI) + impar(a^.HD);
        if (a^.dato.legajo MOD 2 <>0) then
            impar:=impar + 1;
    end;
end;
        
var
a:arbol; cantimpares:integer;
begin
a:=nil;
cargarA(a);
cantimpares:= impar(a);
writeln('la cantidad de alumnos con legajo impar es de: ', cantimpares);
end.
